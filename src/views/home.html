
<!DOCTYPE html>
<html lang="en-us"> 

	<head>
		
		<title>Home | Car Pooling</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="author" content="Mmaboko Tiisetso"/>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/5892b83959.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="/styles.css" />

    
  </head>
  <body id="home-page-body">
    
    <section id="navbar">
      <div class="topnav">
        <div class="left-div">
          <a class="active" href="/home/<%= userid %>">Home</a>
          <a href= "/home/<%= userid %>/addRegister" >add Register</a> 
          <a href= "/home/<%= userid %>/edit_profile" >Profile settings</a>
          <a href= "/home/<%= userid %>/allCarPool" >View All Car Pool</a>
        
        </div>
        <div class="right-div">
          <span id="user-name"><%= name %> <%= surname %></span>
          <i class='fas fa-user-circle' onclick="dropDown()"></i>
        </div>
        
        <div class="dropdown">
					<ul>
						<li><a href="/home/<%= userid %>/edit_profile"><i class="fa fa-gear" aria-hidden="true"></i> Settings</a></li>
						<li><a href="/logout"><i class="fas fa-sign-out-alt" aria-hidden="true"></i> Logout</a></li>
						
					</ul>
				</div>
      </div>
      
    </section>
 

    
    <section id="search">
        <div class="background-image">
          <img src="/images/carShare.jpeg" alt="Traffic Cars" style="width:100%;">
          <form action="/home/<%= userid %>/searchView" class="search-form search-content">
            <label for="search" class="search-label">Search Your Destination:</label>
            <input type="search" id="search-input" placeholder="search destination location..." name="destination">
            <input type="submit" class="submit-btn">
          </form>
        </div>
      
    </section>
    
    

    

  <section id="display-rides">
    
        <% if (myCarPool.length > 0){ %>
      	<div id="title"><h2>My Car Pools</h2></div>
    <div class="flex-display-container">
				<% myCarPool.map((ele)=>{ %>
          <div class="user-data-dispaly">

          <div ><span id="user-info">Joined on  </span><span id="user-data" class="created-joined"><%= ele.joinedAt.toDateString() %></span></div>
          <div ><span id="user-info">Created on  </span><span id="user-data" class="created-joined"><%= ele.createAt.toDateString() %></span></div>
         <div ><span id="user-info">departure time  </span><span id="user-data"><%= ele.departure_time.toLocaleTimeString() %></span></div>
          <div><span id="user-info">arrival time</span><span id="user-data"><%= ele.arrival_time.toLocaleTimeString() %></span></div>
          <div><span id="user-info">Origin </span><span id="user-data"><%= ele.origin %></span></div>
          <div><span id="user-info">days available</span>  <span id="user-data"><%= ele.days_available %></span></div>
          <div><span id="user-info">Destination</span>  <span id="user-data"><%= ele.destination %></span></div>
          <div><span id="user-info">Available seats</span>  <span id="user-data"><%= ele.available_seats %></span></div>
          <div><span id="user-info">Owner</span>  <span id="user-data"><%= ele.Owner %></span></div>
          <div><span id="user-info">Notes</span>  <span id="user-data" class="notes"><%= ele.notes %></span></div><br>
        
          <br>
            <form id="submit-form" action="/home/<%= userid %>?carid=<%= ele._id %>" method="post">
              <input type="submit" value="leave" id="leave" class = "submit-btn"/>
            </form><br>
    </div>
                 
          
            
     <% }) %> 
    <% } else{%>
		
         <div id="default-message"><h2>Your Car Pool Oppurnities show will here</h2></div>        
    <% } %>
      
    </div>
    
  </section>
    
    <script>
      function dropDown() {
        let element = document.querySelector(".dropdown");
        
        element.style.display = element.style.display === 'none' ? 'block' : 'none';
      }
    </script>
  </body>

</html>
      